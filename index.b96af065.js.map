{"mappings":"spBAAA,IAAAA,EAAAC,EAAA,SAGA,IAAIC,EAAW,GAQR,SAASC,EAAeC,GAC3B,OAAOA,EAAIC,KAAIC,IAEX,MAAMC,EAASD,EAAKE,UACfH,KAAII,IACD,MAAMC,EAAWR,EAASS,MAAKC,GAAOA,EAAIH,KAAOA,IACjD,OAAOC,EAAWA,EAASG,KAAO,EAAE,IAGtCC,EAAcP,EAAOQ,OAAS,EAAI,GAAGR,EAAOS,KAAK,WAAa,GAEpE,MAAO,oLAE4EV,EAAKW,qBAAqBX,EAAKY,MAAQZ,EAAKY,MAAQZ,EAAKO,+HAG5GP,EAAKY,MAAQZ,EAAKY,MAAQZ,EAAKO,0DACxBC,OAAiBR,EAAKa,aAAeb,EAAKa,aAAaC,MAAM,EAAG,GAAK,gDAG9G,IAEAJ,KAAK,G,EA5BX,EAAAhB,EAAAqB,UAHe,CAAC,gBAAiB,qBAGhBC,MAAKC,IAClBrB,EAAW,IAAIqB,EAAI,GAAGhB,UAAWgB,EAAI,GAAGhB,QACxCiB,QAAQC,IAAIvB,EAAS,G,uICPzB,MAAMwB,EAAU,mCACVC,EAAM,gCAGL,SAASC,IACZ,MAAMC,EAAa,IAAIC,gBAAgB,CACnCC,QAASL,IAEPM,EAAa,mBAEnB,OADAR,QAAQC,IAAI,GAAGE,IAAMK,KAAcH,KAC5BI,MAAM,GAAGN,IAAMK,KAAcH,KAC/BP,MAAKC,IACF,IAAKA,EAAIW,GACL,MAAM,IAAIC,MAAMC,SAASC,QAE7B,OAAOd,EAAIe,MAAM,G,CAItB,SAASC,EAASC,GACrB,MAAMX,EAAa,IAAIC,gBAAgB,CACnCC,QAASL,EACTe,SAAU,UAERC,EAAWF,EAAOnC,KAAIsC,GACjBV,MAAM,GAAGN,IAAMgB,KAASd,KAC1BP,MAAKc,IACF,IAAKA,EAASF,GACV,MAAM,IAAIC,MAAM,uBAAuBC,EAASC,UAEpD,OAAOD,EAASE,MAAM,MAGlC,OAAOM,QAAQC,IAAIH,E","sources":["src/js/film-card.js","src/js/getDataFilm.js"],"sourcesContent":["import { getGenre } from \"./getDataFilm\";\n\nconst params = ['genre/tv/list', 'genre/movie/list'];\nlet genreArr = [];\n\ngetGenre(params).then(res => {\n    genreArr = [...res[0].genres, ...res[1].genres]\n    console.log(genreArr)\n}\n);\n\nexport function filmCardMacker(arr) {\n    return arr.map(item => {\n\n        const genres = item.genre_ids\n            .map(id => {\n                const genreObj = genreArr.find(obj => obj.id === id);\n                return genreObj ? genreObj.name : '';\n            });\n\n        const genreString = genres.length > 0 ? `${genres.join(', ')} | ` : '';\n\n        return `<li class=\"film\">\n    <a class=\"film-link\" data-modal-open href=\"javascript:void(0)\">\n        <img loading=\"lazy\" width=\"280\" height=\"398\" src=\"https://image.tmdb.org/t/p/w400${item.poster_path}\" alt=\"${item.title ? item.title : item.name}film cover\"\n            class=\"film__img\">\n            <div class=\"film-body\">\n                <p class=\"film__name\">${item.title ? item.title : item.name}</p>\n                <p class=\"film__description\">${genreString} | ${item.release_date ? item.release_date.slice(0, 4) : 'TBD'}</p>\n            </div>\n    </a>\n</li>`\n    }\n    ).join('')\n}\n\n//https://image.tmdb.org/t/p/w400${item.poster_path} - потрібно переробити із параметрами.","const API_KEY = '936b81ad25b58d3805a3200306ab9278';\nconst URL = \"https://api.themoviedb.org/3/\";\n\n\nexport function getDataFilm() {\n    const parameters = new URLSearchParams({\n        api_key: API_KEY,\n    });\n    const trendParam = 'trending/all/day'\n    console.log(`${URL}${trendParam}?${parameters}`)\n    return fetch(`${URL}${trendParam}?${parameters}`)\n        .then(res => {\n            if (!res.ok) {\n                throw new Error(response.status);\n            }\n            return res.json()\n        })\n};\n\nexport function getGenre(params) {\n    const parameters = new URLSearchParams({\n        api_key: API_KEY,\n        language: 'en-US',\n    });\n    const promises = params.map(param => {\n        return fetch(`${URL}${param}?${parameters}`)\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(`HTTP error! status: ${response.status}`);\n                }\n                return response.json();\n            });\n    });\n    return Promise.all(promises);\n}"],"names":["$kjdRC","parcelRequire","$51ee35a5f0c6e6fb$var$genreArr","$51ee35a5f0c6e6fb$export$7f8dd55dded961b3","arr","map","item","genres","genre_ids","id","genreObj","find","obj","name","genreString","length","join","poster_path","title","release_date","slice","getGenre","then","res","console","log","$ec9056116879517f$var$API_KEY","$ec9056116879517f$var$URL","$ec9056116879517f$export$d1e0b74d9a946659","parameters","URLSearchParams","api_key","trendParam","fetch","ok","Error","response","status","json","$ec9056116879517f$export$11ff5302ebb1cd30","params","language","promises","param","Promise","all"],"version":3,"file":"index.b96af065.js.map"}