{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,kDAEA,MAAMC,EAAWC,SAASC,cAAc,eAUV,IAA1BC,EAAoB,qBACpBC,EAAuB,EACvBC,EAAc,IAED,EAAjBP,EAAAQ,aAAYC,EAAAC,QAAWC,YAAa,CAAEC,SAAU,UAAWC,MACzD,EAACC,QAAEA,MAEkCC,QAA3BC,IAAIF,GACZZ,EAASe,WAAY,EAAAC,EAAAC,gBAAeL,GACpCT,EAAoB,oBACpB,IAIJ,MAAMe,EAAiBjB,SAASC,cAAc,sBACCW,QAAvCC,IAAI,qBAAsBI,GAClC,MAAMC,EAAkBlB,SAASC,cAAc,sBAEA,IAA3CkB,EACJF,EAAeG,iBAAiB,SAAS,WACvCC,aAAaF,GACbA,EAAYG,YAAW,WAIrB,GAFoClB,EAAtBa,EAAeM,MAAMC,OACnCZ,QAAQC,IAAI,kBAAmBT,EAAaA,EAAYqB,QAC7B,IAAvBrB,EAAYqB,OAEd,OADAJ,aAAaF,GACNO,EAAAC,OAAOC,KAAK,yCAGrB,EAAA/B,EAAAQ,aAAYC,EAAAC,QAAWsB,YAAa,CAAEC,MAAO1B,IAAeM,MAC1D,EAACC,QAAEA,MAGD,GADmCC,QAA3BC,IAAIF,GACW,IAAnBA,EAAQc,OAGV,OAFAJ,aAAaF,QACbD,EAAgBa,UAAUC,OAAO,mBAGnCjC,EAASe,WAAY,EAAAC,EAAAC,gBAAeL,GACpCT,EAAoB,+BACpBgB,EAAgBa,UAAUE,IAAI,kBAC9B,IAIJrB,QAAQC,IAAI,gD,GACX,K,IAKqD,MAApDqB,EAA0BlC,SAASC,cAAc,iBACpBW,QAA3BC,IAAI,8BAA+BqB,GAE3C/B,EAAuBgC,OAAOD,EAAwBE,aACtDxB,QAAQC,IAAIV,GAEZ+B,EAAwBd,iBAAiB,SAAS,SAAUiB,GAC1D,OAAQnC,GACN,IAAK,sBACH,EAAAL,EAAAQ,aAAYC,EAAAC,QAAWC,YAAa,CAClCC,SAAU,QACV6B,KAAMnC,IACLO,MAAK,EAACC,QAAEA,MAE0BC,QAA3BC,IAAIF,GAEZZ,EAASe,WAAY,EAAAC,EAAAC,gBAAeL,EACpC,IAEF,MACF,IAAK,gCACH,EAAAd,EAAAQ,aAAYC,EAAAC,QAAWsB,YAAa,CAClCC,MAAO1B,EACPkC,KAAMnC,IACLO,MAAK,EAACC,QAAEA,MAE0BC,QAA3BC,IAAIF,GACZZ,EAASe,WAAY,EAAAC,EAAAC,gBAAeL,EACpC,IAEF,MAEF,QACEC,QAAQC,IAAI,0B","sources":["src/js/startFetch.js"],"sourcesContent":["import { getDataFilm } from './getDataFilm';\nimport { filmCardMacker } from './film-card';\nconst filmList = document.querySelector('.films-list'); // галерея карток з фільмами\nimport ApiRequest from './ApiRequest';\nimport { Notify } from 'notiflix';\nimport btn from './modal'\n\n\n// currentCollection:\n// Назва колекції за ключовим словом - currentSearchMovieCollection\n// або\n// Назва колекції популярних фільмів - topFilmsCollection\nlet currentCollection = 'topFilmsCollection'; // назва колекції по дефолту\nlet activePageCollection = 1; // номер активної сторінки по дефолту\nlet querySearch = ''; // параметр для пошуку\n\ngetDataFilm(ApiRequest.popularFilm, { language: 'en-US' }).then(\n  ({ results }) => {\n    // запит по трендам + запит на вставку карток у films-list\n    console.log(results);\n    filmList.innerHTML = filmCardMacker(results);\n    currentCollection = 'topFilmsCollection';\n    return;\n  }\n);\n\nconst inputSearchEll = document.querySelector('.header-nav__input'); // посилання на інпут для вводу ключового слова для пошуку\nconsole.log('inputSearchEll----', inputSearchEll);\nconst messageErrorEll = document.querySelector('.header-error-text'); // посилання абзац з повідомленням щодо невдалого пошуку\n\nlet timeoutId;\ninputSearchEll.addEventListener('input', function () {\n  clearTimeout(timeoutId);\n  timeoutId = setTimeout(function () {\n    // викликати функцію, яку потрібно запустити\n    querySearch = inputSearchEll.value.trim();\n    console.log('querySearch ---', querySearch, querySearch.length);\n    if (querySearch.length === 0) {\n      clearTimeout(timeoutId);\n      return Notify.info('введіть текст для пошуку кінофільмів');\n    }\n\n    getDataFilm(ApiRequest.searchMovie, { query: querySearch }).then(\n      ({ results }) => {\n        // запит по трендам + запит на вставку карток у films-list\n        console.log(results);\n        if (results.length === 0) {\n          clearTimeout(timeoutId)\n          messageErrorEll.classList.remove(\"visually-hidden\");\n          return;\n        }\n        filmList.innerHTML = filmCardMacker(results);\n        currentCollection = 'currentSearchMovieCollection';\n        messageErrorEll.classList.add(\"visually-hidden\");\n        return;\n      }\n    );\n\n    console.log('Текст був введений більше ніж 2 секунди тому.');\n  }, 1500);\n});\n\n//При переході на кожну сторінку малювати відповідну частину фільмів\n\nconst activePagePaginationEll = document.querySelector('.page--active'); // посилання на активну сторінку пагінації\nconsole.log('activePagePaginationEll----', activePagePaginationEll);\n\nactivePageCollection = Number(activePagePaginationEll.textContent);\nconsole.log(activePageCollection);\n\nactivePagePaginationEll.addEventListener('click', function (e) {\n  switch (currentCollection) {\n    case 'topFilmsCollection':\n      getDataFilm(ApiRequest.popularFilm, {\n        language: 'en-US',\n        page: activePageCollection,\n      }).then(({ results }) => {\n        // запит по трендам + запит на вставку карток у films-list\n        console.log(results);\n\n        filmList.innerHTML = filmCardMacker(results);\n        return;\n      });\n      break;\n    case 'currentSearchMovieCollection':\n      getDataFilm(ApiRequest.searchMovie, {\n        query: querySearch,\n        page: activePageCollection,\n      }).then(({ results }) => {\n        // запит по трендам + запит на вставку карток у films-list\n        console.log(results);\n        filmList.innerHTML = filmCardMacker(results);\n        return;\n      });\n      break;\n\n    default:\n      console.log('Упс, щось пішло не так');\n      break;\n  }\n});\n\n\n"],"names":["$gxwgI","parcelRequire","$1e78404af9f34895$var$filmList","document","querySelector","$1e78404af9f34895$var$currentCollection","$1e78404af9f34895$var$activePageCollection","$1e78404af9f34895$var$querySearch","getDataFilm","$ggI8S","default","popularFilm","language","then","results","console","log","innerHTML","$3nfqI","filmCardMacker","$1e78404af9f34895$var$inputSearchEll","$1e78404af9f34895$var$messageErrorEll","$1e78404af9f34895$var$timeoutId","addEventListener","clearTimeout","setTimeout","value","trim","length","$19McP","Notify","info","searchMovie","query","classList","remove","add","$1e78404af9f34895$var$activePagePaginationEll","Number","textContent","e","page"],"version":3,"file":"index.20580f19.js.map"}