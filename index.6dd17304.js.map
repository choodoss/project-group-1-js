{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,yCAUA,MAAMC,EAAkBC,SAASC,cAAc,4BAEzCC,GAAO,EAAAC,EAAAC,SAAQP,EAAAQ,cAErB,EAAAF,EAAAG,oBAAmBJ,GAAOK,IACxB,GAAIA,EAAM,CACIA,EAAKC,IACFR,SAASC,cAAc,mBAC/BQ,UAAW,EAClBV,EAAgBW,YAAc,WACAX,EAAdY,UAAUC,IAAI,4B,MAI9BC,QAAQC,IAAI,WAAW,IAKRd,SAASC,cAAc,wBAC/Bc,iBAAiB,UAE5B,SAAgBC,GACdA,EAAEC,iBACF,MAAMC,EAAQlB,SAASC,cAAc,UAAUkB,MAAMC,WAC/CC,EAAWrB,SAASC,cAAc,aAAakB,MAAMC,WAC3D,KACE,EAAAjB,EAAAmB,gCAA+BpB,EAAMgB,EAAOG,GACzCE,MAAMC,IACL,MAAMjB,EAAOiB,EAAejB,KAC5BM,QAAQC,IAAI,0BAA2BP,GACvCkB,OAAOC,SAASC,KAAO,IACvBX,EAAEY,OAAOC,OAAO,G,CAItB,MAAOC,GACaA,EAAMC,KACxBlB,QAAQC,IAAI,gBACPkB,MACHC,EAAAC,OAAOC,QAAQ,wC,KAMrB,MAAMC,EAAYpC,SAASC,cAAc,iBACzCmC,EAAUrB,iBAAiB,UAE3B,SAAeC,GACbA,EAAEC,iBACF,MAAMC,EAAQlB,SAASC,cAAc,gBAAgBkB,MAAMC,WACrDC,EAAWrB,SAASC,cAAc,mBAAmBkB,MAAMC,YAEjE,EAAAjB,EAAAkC,4BAA2BnC,EAAMgB,EAAOG,GACrCE,MAAMC,IACQA,EAAejB,KAC5BM,QAAQC,IAAI,qBACZE,EAAEY,OAAOC,QACTO,EAAUzB,UAAUC,IAAI,YAAY,IAErC0B,OAAOR,IACYA,EAAMC,KACHD,EAAMS,OAAO,G","sources":["src/js/Firebase-registration.js"],"sourcesContent":["import { FirebaseApp } from \"./Firebase-init\";\nimport { getDatabase } from 'firebase/database';\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  onAuthStateChanged,\n  signInWithEmailAndPassword\n} from \"firebase/auth\";\nimport { Notify } from \"notiflix\";\n\nconst btnRegistration = document.querySelector('#registration-modal-open')\n\nconst auth = getAuth(FirebaseApp)\n\nonAuthStateChanged(auth, (user) => {\n  if (user) {\n    const uid = user.uid;\n    const signUp = document.querySelector('.button--signin')\n    signUp.disabled = true;\n    btnRegistration.textContent = 'sign out'; // Зміна надпису на кнопці реєстрації\n    btnRegistration.classList.add('header-nav__title--active') // додавання класу на кнопку реєстрації\n    // btnRegistration.textContent = 'sign in'; // Зміна надпису на кнопці реєстрації\n    // btnRegistration.classList.remove('header-nav__title--active') // додавання класу на кнопку реєстрації\n  } else {\n    console.log('nope uid')\n  }\n});\n\n\nconst fromSubmit = document.querySelector('.registration-submit');\nfromSubmit.addEventListener('submit', signUp);\n\nfunction signUp(e) {\n  e.preventDefault();\n  const email = document.querySelector('#email').value.toString();\n  const password = document.querySelector('#password').value.toString();\n  try {\n    createUserWithEmailAndPassword(auth, email, password)\n      .then((userCredential) => {\n        const user = userCredential.user;\n        console.log(\"Signed up successfully:\", user);\n        window.location.href = '#'\n        e.target.reset();\n      })\n  }\n\n  catch (error) {\n    const errorCode = error.code;\n    console.log('nopenopenope')\n    if (!path) {\n      Notify.failure('Oh you alredy create account. Sign in')\n    }\n    // ..\n  };\n}\n\nconst singModal = document.querySelector('#SignIn-modal');\nsingModal.addEventListener('submit', logIn)\n\nfunction logIn(e) {\n  e.preventDefault();\n  const email = document.querySelector('#emailSingIn').value.toString();\n  const password = document.querySelector('#passwordSingIn').value.toString();\n\n  signInWithEmailAndPassword(auth, email, password)\n    .then((userCredential) => {\n      const user = userCredential.user;\n      console.log('yeap you are here')\n      e.target.reset();\n      singModal.classList.add('is-hidden')\n    })\n    .catch((error) => {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n    });\n}\n"],"names":["$fSDyF","parcelRequire","$32ac4ef52a898f2b$var$btnRegistration","document","querySelector","$32ac4ef52a898f2b$var$auth","$6AR8M","getAuth","FirebaseApp","onAuthStateChanged","user","uid","disabled","textContent","classList","add","console","log","addEventListener","e","preventDefault","email","value","toString","password","createUserWithEmailAndPassword","then","userCredential","window","location","href","target","reset","error","code","path","$19McP","Notify","failure","$32ac4ef52a898f2b$var$singModal","signInWithEmailAndPassword","catch","message"],"version":3,"file":"index.6dd17304.js.map"}