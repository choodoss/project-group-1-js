{"mappings":"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","sources":["src/js/ApiRequest.js","src/js/startFetch.js","src/js/about-film-modal.js","src/js/modal.js"],"sourcesContent":["const popularFilm = ['movie/popular']; // тренди для початкового запиту\nconst searchMovie = 'search/movie';// тпошук по назві фільму\nconst movieDetails = 'movie/' //'movie/${ID}' // детальна інформація по фільму із ID Куди записувати ID фільму?\nconst genre = ['genre/tv/list', 'genre/movie/list']; // Для створення масиву жанрів із ID\n\nexport default {\n    popularFilm,\n    searchMovie,\n    movieDetails,\n    genre\n}","import { getDataFilm } from './getDataFilm';\nimport { filmCardMacker } from './film-card';\nconst filmList = document.querySelector('.films-list'); // галерея карток з фільмами\nimport ApiRequest from './ApiRequest';\nimport { Notify } from 'notiflix';\nimport btn from './modal'\n\n\n// currentCollection:\n// Назва колекції за ключовим словом - currentSearchMovieCollection\n// або\n// Назва колекції популярних фільмів - topFilmsCollection\nlet currentCollection = 'topFilmsCollection'; // назва колекції по дефолту\nlet activePageCollection = 1; // номер активної сторінки по дефолту\nlet querySearch = ''; // параметр для пошуку\n\ngetDataFilm(ApiRequest.popularFilm, { language: 'en-US' }).then(\n  ({ results }) => {\n    // запит по трендам + запит на вставку карток у films-list\n    console.log(results);\n    filmList.innerHTML = filmCardMacker(results);\n    currentCollection = 'topFilmsCollection';\n    return;\n  }\n);\n\nconst inputSearchEll = document.querySelector('.header-nav__input'); // посилання на інпут для вводу ключового слова для пошуку\nconsole.log('inputSearchEll----', inputSearchEll);\nconst messageErrorEll = document.querySelector('.header-error-text'); // посилання абзац з повідомленням щодо невдалого пошуку\n\nlet timeoutId;\ninputSearchEll.addEventListener('input', function () {\n  clearTimeout(timeoutId);\n  timeoutId = setTimeout(function () {\n    // викликати функцію, яку потрібно запустити\n    querySearch = inputSearchEll.value.trim();\n    console.log('querySearch ---', querySearch, querySearch.length);\n    if (querySearch.length === 0) {\n      clearTimeout(timeoutId);\n      return Notify.info('введіть текст для пошуку кінофільмів');\n    }\n\n    getDataFilm(ApiRequest.searchMovie, { query: querySearch }).then(\n      ({ results }) => {\n        // запит по трендам + запит на вставку карток у films-list\n        console.log(results);\n        if (results.length === 0) {\n          clearTimeout(timeoutId)\n          messageErrorEll.classList.remove(\"visually-hidden\");\n          return;\n        }\n        filmList.innerHTML = filmCardMacker(results);\n        currentCollection = 'currentSearchMovieCollection';\n        messageErrorEll.classList.add(\"visually-hidden\");\n        return;\n      }\n    );\n\n    console.log('Текст був введений більше ніж 2 секунди тому.');\n  }, 1500);\n});\n\n//При переході на кожну сторінку малювати відповідну частину фільмів\n\nconst activePagePaginationEll = document.querySelector('.page--active'); // посилання на активну сторінку пагінації\nconsole.log('activePagePaginationEll----', activePagePaginationEll);\n\nactivePageCollection = Number(activePagePaginationEll.textContent);\nconsole.log(activePageCollection);\n\nactivePagePaginationEll.addEventListener('click', function (e) {\n  switch (currentCollection) {\n    case 'topFilmsCollection':\n      getDataFilm(ApiRequest.popularFilm, {\n        language: 'en-US',\n        page: activePageCollection,\n      }).then(({ results }) => {\n        // запит по трендам + запит на вставку карток у films-list\n        console.log(results);\n\n        filmList.innerHTML = filmCardMacker(results);\n        return;\n      });\n      break;\n    case 'currentSearchMovieCollection':\n      getDataFilm(ApiRequest.searchMovie, {\n        query: querySearch,\n        page: activePageCollection,\n      }).then(({ results }) => {\n        // запит по трендам + запит на вставку карток у films-list\n        console.log(results);\n        filmList.innerHTML = filmCardMacker(results);\n        return;\n      });\n      break;\n\n    default:\n      console.log('Упс, щось пішло не так');\n      break;\n  }\n});\n\n\n","import { getDataFilm } from './getDataFilm';\nimport ApiRequest from './ApiRequest';\n\nlet watchedBtn;\nlet queueBtn;\n\nif (!localStorage.getItem(\"watchedID\") || !localStorage.getItem(\"queueId\")) {\n  localStorage.setItem((\"watchedID\"), JSON.stringify([1]))\n  localStorage.setItem((\"queueId\"), JSON.stringify([1]))\n}\n\n\nexport async function cardFilmMacker({ id, poster, genres, title, original, popularity, average, count }) {\n  const filmcard = document.querySelector('.about-film');\n\n  try {\n    const { overview } = await getDataFilm(`${ApiRequest.movieDetails}${id}`, { language: 'en-US' });\n    const videos = await getDataFilm(`${ApiRequest.movieDetails}${id}/videos`, { language: 'en-US' });\n    const trailer = `https://www.youtube.com/watch?v=${videos.results[0].key}`;\n\n    const localStorageDataWatch = JSON.parse(localStorage.getItem(\"watchedID\"))\n    const localStorageDataQueue = JSON.parse(localStorage.getItem(\"queueId\"))\n    let watchedTextBt;\n    let queueTextBt;\n\n    if (localStorageDataWatch.includes(id)) {\n      watchedTextBt = 'remove at Watched';\n    }\n    if (localStorageDataQueue.includes(id)) {\n      queueTextBt = 'remove at queue';\n    }\n\n    filmcard.innerHTML = `\n      <img class=\"about-film__img\" src=\"${poster}\" />\n      <div class=\"about-film__body\">\n        <h3 class=\"film__title\">${title}</h3>\n        <div class=\"film-atributes\">\n          <ul class=\"film-properties\">\n            <li class=\"film-properties__item\">\n              <p class=\"property\">Vote / Votes</p>\n            </li>\n            <li class=\"film-properties__item\">\n              <p class=\"property\">Popularity</p>\n            </li>\n            <li class=\"film-properties__item\">\n              <p class=\"property\">Original Title</p>\n            </li>\n            <li class=\"film-properties__item\">\n              <p class=\"property\">Genre</p>\n            </li>\n          </ul>\n          <ul class=\"film-value\">\n            <li class=\"film-value__item\">\n              <p class=\"value\">\n                <span class=\"value--red\">${average}</span><span class=\"value--gray\"> / </span>\n                <span class=\"value--gray-bg\">${count}</span>\n              </p>\n            </li>\n            <li class=\"film-value__item\">\n              <p class=\"value\">${popularity}</p>\n            </li>\n            <li class=\"film-value__item\">\n              <p class=\"value\">${original}</p>\n            </li>\n            <li class=\"film-value__item\">\n              <p class=\"value\">${genres}</p>\n            </li>\n          </ul>\n        </div>\n        <div class=\"about-film__description\">\n          <h4 class=\"description__title\">About</h4>\n          <p class=\"description\">${overview}</p>\n        </div>\n        <div class=\"youtube-container\">\n          <a href=\"${trailer}\" class=\"youtube-link tube\" data-modal-close>Trailer</a>\n        </div>\n        <div class=\"button__wrapper\" id=\"buttonWrapper\">\n  <button data-id=\"${id}\" class=\"add-to-watched\" type=\"button\" data-value=\"${watchedTextBt ? 'add' : 'no'}\" id=\"btn-watched\">\n    ${watchedTextBt ? watchedTextBt : 'add to Watched'}\n  </button>\n  <button data-id=\"${id}\" class=\"add-to-queue\" type=\"button\" data-value=\"${queueTextBt ? 'add' : 'no'}\" id=\"btn-queue\">\n    ${queueTextBt ? queueTextBt : 'add to queue'}\n  </button>\n                </div>\n            </div>`\n    watchedBtn = document.querySelector('#btn-watched');\n    queueBtn = document.querySelector('#btn-queue');\n    watchedBtn.addEventListener('click', hendleWatchedBtn);\n    queueBtn.addEventListener('click', hendleQueueBtn);\n  } catch (error) {\n    console.log(error)\n  }\n}\n\n\nfunction hendleWatchedBtn({ target }) {\n\n  const add = \"add\"\n  const no = \"no\"\n  const id = target.dataset.id;\n\n  if (target.dataset.value === add) {\n\n    const arrWithOutId = JSON.parse(localStorage.getItem(\"watchedID\")).filter(value => value !== id && value !== 1);\n    localStorage.setItem((\"watchedID\"), JSON.stringify(arrWithOutId));\n    console.log(arrWithOutId);\n    target.textContent = 'add to Watched';\n    target.dataset.value = 'no';\n    console.log(JSON.parse(localStorage.getItem(\"watchedID\")))\n  } else {\n\n    let arrAllId = [];\n    JSON.parse(localStorage.getItem(\"watchedID\")).map(i => arrAllId.push(i));\n    arrAllId.push(id);\n    localStorage.setItem((\"watchedID\"), JSON.stringify(arrAllId));\n    target.textContent = 'remove at Watched';\n    target.dataset.value = 'add';\n    console.log(arrAllId);\n  }\n}\n\nfunction hendleQueueBtn({ target }) {\n  const add = \"add\"\n  const no = \"no\"\n  const id = target.dataset.id;\n\n  if (target.dataset.value === add) {\n    const arrWithOutId = JSON.parse(localStorage.getItem(\"queueId\")).filter(value => value !== id && value !== 1);\n    localStorage.setItem((\"queueId\"), JSON.stringify(arrWithOutId));\n    console.log(arrWithOutId);\n    target.textContent = 'add to queue';\n    target.dataset.value = 'no';\n    console.log(JSON.parse(localStorage.getItem(\"queueId\")))\n  } else {\n    let arrAllId = [];\n    JSON.parse(localStorage.getItem(\"queueId\")).map(i => arrAllId.push(i));\n    arrAllId.push(id);\n    localStorage.setItem((\"queueId\"), JSON.stringify(arrAllId));\n    target.textContent = 'remove at queue';\n    target.dataset.value = 'add';\n    console.log(arrAllId);\n  }\n}\n","import { cardFilmMacker } from './about-film-modal'\n\ndocument.addEventListener('DOMContentLoaded', function (e) {\n  e.preventDefault();\n  const modals = ['data-modal', 'team-modal'];\n\n  modals.forEach(element => {\n    const openModalSelector = element + \"-open\";\n    const closeModalSelector = element + \"-close\";\n    const modal = document.querySelector(\"[\" + element + \"]\");\n    if (!modal) logModalError(\"Can`t find Modal with attribute \" + modal);\n\n    // Додаємо обробник подій на батьківський елемент, для оновлення посилань\n    const parentElement = document.body;\n    parentElement.addEventListener(\"click\", function (event) {\n      const target = event.target;\n      const openModalBtn = target.closest(\"[\" + openModalSelector + \"]\");\n      const closeModalBtn = target.closest(\"[\" + closeModalSelector + \"]\");\n      if (openModalBtn) {\n        if (target.className === 'film__img') {\n          cardFilmMacker(target.dataset)\n        }\n        toggleModal();\n      } else if (closeModalBtn) {\n        toggleModal();\n      }\n    });\n\n    function toggleModal() {\n      document.body.classList.toggle(\"modal-open\");\n      modal.classList.toggle(\"is-hidden\");\n    }\n  });\n}, false);\n\nfunction logModalError(text) {\n  const styles = \"color: #BADA55\";\n  console.log(\"%c\" + text, styles);\n}\n"],"names":["$bd8061b0a7668aa0$export$2e2bcd8739ae039","$gxwgI","parcelRequire","$b3ba46509f6ab2d1$var$watchedBtn","$b3ba46509f6ab2d1$var$queueBtn","async","$b3ba46509f6ab2d1$export$98c06fbfb69db088","id","poster","genres","title","original","popularity","average","count","filmcard","document","querySelector","overview","getDataFilm","$ggI8S","default","movieDetails","language","trailer","results","key","localStorageDataWatch","JSON","parse","localStorage","getItem","localStorageDataQueue","watchedTextBt","queueTextBt","includes","innerHTML","addEventListener","$b3ba46509f6ab2d1$var$hendleWatchedBtn","$b3ba46509f6ab2d1$var$hendleQueueBtn","error","console","log","target","dataset","value","arrWithOutId","filter","setItem","stringify","textContent","arrAllId","map","i","push","e","preventDefault","forEach","element","openModalSelector","closeModalSelector","modal","text","styles","$fa7a60d60ed0fb7b$var$logModalError","toggleModal","body","classList","toggle","event","openModalBtn","closest","closeModalBtn","className","$1e78404af9f34895$var$filmList","$1e78404af9f34895$var$currentCollection","$1e78404af9f34895$var$activePageCollection","$1e78404af9f34895$var$querySearch","popularFilm","then","$3nfqI","filmCardMacker","$1e78404af9f34895$var$inputSearchEll","$1e78404af9f34895$var$messageErrorEll","$1e78404af9f34895$var$timeoutId","clearTimeout","setTimeout","trim","length","$19McP","Notify","info","searchMovie","query","remove","add","$1e78404af9f34895$var$activePagePaginationEll","Number","page"],"version":3,"file":"index.13752a5f.js.map"}