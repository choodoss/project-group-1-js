var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequire1995;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequire1995=r);var a=r("8nF0j"),i=r("3nfqI");document.addEventListener("DOMContentLoaded",(function(e){document.querySelector(".button--watched"),document.querySelector(".button--queue"),document.querySelector(".add-to-watched"),document.querySelector(".add-to-queue"),document.querySelector(".page-list"),document.querySelector(".films-list"),document.querySelector("#buttonWrapper"),document.querySelector(".header-nav__list-2")}));const o={WATCHED:"watched",QUEUE:"queue"},d={currentPage:1,totalPages:0,activeFilm:null,query:null,whatchedOrQueue:null},c=()=>{d.currentPage=1},u=()=>{pagination.innerHTML=""},l=(e,t)=>{if(!e)return;const n=6*(t-1);return d.totalPages=Math.ceil(e.length/6),e.slice(n,n+6)},s=async e=>{try{let t="";const n='<p class="watched-warning">No movies have been added yet</p>';c();const r=l(e,d.currentPage);void 0===e||0===e.length?(u(),t=n):(t=await(0,i.filmCardMacker)(r),u()),moviesEl.innerHTML="",moviesEl.insertAdjacentHTML("beforeend",t)}catch(e){console.error(e)}};function E(e,t,n,r){e.push(d.activeFilm),(0,a.save)(t,e),r.target.innerText=`REMOVE FROM ${n}`}function T(e,t,n,r){const i=e.filter((e=>e.id!==d.activeFilm.id));(0,a.save)(t,i),r.target.innerText=`ADD TO ${n}`}refs.btnWrapper.addEventListener("click",(e=>{const t=o.WATCHED||[],n=o.QUEUE||[];"ADD TO WATCHED"===e.target.innerText?E(t,o.WATCHED,"WATCHED",e):"REMOVE FROM WATCHED"===e.target.innerText?T(t,o.WATCHED,"WATCHED",e):"ADD TO QUEUE"===e.target.innerText?E(n,o.QUEUE,"QUEUE",e):"REMOVE FROM QUEUE"===e.target.innerText&&T(n,o.QUEUE,"QUEUE",e)})),window.onload=()=>{const e=o.QUEUE||[];(o.WATCHED||[]).find((e=>e.id===d.activeFilm.id))?refs.addToWatchedBtn.innerText="REMOVE FROM WATCHED":refs.addToWatchedBtn.innerText="ADD TO WATCHED",e.find((e=>e.id===d.activeFilm.id))?refs.addToQueueBtn.innerText="REMOVE FROM QUEUE":refs.addToQueueBtn.innerText="ADD TO QUEUE"};refs.watchedQueueBtnList.addEventListener("click",(async e=>{if("BUTTON"!==e.target.nodeName)return;if(e.target.classList.contains("active"))return;const t=document.querySelector(".active");let n=e.target.dataset.value.toUpperCase();d.whatchedOrQueue=n;const r=(0,a.load)(o[n]);s(r),t.classList.remove("active"),e.target.classList.add("active")}));
//# sourceMappingURL=index.374e5c7d.js.map
