{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,yCAWA,MAAMC,EAAkBC,SAASC,cAAc,4BAEzCC,GAAO,EAAAC,EAAAC,SAAQP,EAAAQ,cAErB,EAAAF,EAAAG,oBAAmBJ,GAAOK,IACxB,GAAIA,EAAM,CACIA,EAAKC,IACjBT,EAAgBU,iBAAiB,QAASC,GAC3BV,SAASC,cAAc,mBACtCF,EAAgBY,gBAAgB,2BAChCZ,EAAgBa,YAAc,WACAb,EAAdc,UAAUC,IAAI,4B,MAI9BC,QAAQC,IAAI,WAAW,IAKRhB,SAASC,cAAc,wBAC/BQ,iBAAiB,UAE5B,SAAgBQ,GACdA,EAAEC,iBACF,MAAMC,EAAQnB,SAASC,cAAc,UAAUmB,MAAMC,WAC/CC,EAAWtB,SAASC,cAAc,aAAamB,MAAMC,WAC3D,KACE,EAAAlB,EAAAoB,gCAA+BrB,EAAMiB,EAAOG,GACzCE,MAAMC,IACL,MAAMlB,EAAOkB,EAAelB,KAC5BQ,QAAQC,IAAI,0BAA2BT,GACvCmB,OAAOC,SAASC,KAAO,IACvBX,EAAEY,OAAOC,OAAO,G,CAItB,MAAOC,GACaA,EAAMC,KACxBjB,QAAQC,IAAI,gBACPiB,MACHC,EAAAC,OAAOC,QAAQ,wC,KAMrB,MAAMC,EAAYrC,SAASC,cAAc,iBAqBzC,SAASS,GAAOmB,OAAEA,IAChB9B,EAAgBa,YAAc,UACAb,EAAdc,UAAUyB,OAAO,2BACjCvC,EAAgBwC,aAAa,4BAC7B,EAAApC,EAAAqC,SAAQtC,E,CAxBVmC,EAAU5B,iBAAiB,UAE3B,SAAeQ,GACbA,EAAEC,iBACF,MAAMC,EAAQnB,SAASC,cAAc,gBAAgBmB,MAAMC,WACrDC,EAAWtB,SAASC,cAAc,mBAAmBmB,MAAMC,YAEjE,EAAAlB,EAAAsC,4BAA2BvC,EAAMiB,EAAOG,GACrCE,MAAMC,IACQA,EAAelB,KAC5BQ,QAAQC,IAAI,qBACZC,EAAEY,OAAOC,QACTO,EAAUxB,UAAUC,IAAI,YAAY,IAErC4B,OAAOX,IACYA,EAAMC,KACHD,EAAMY,OAAO,G","sources":["src/js/Firebase-registration.js"],"sourcesContent":["import { FirebaseApp } from \"./Firebase-init\";\nimport { getDatabase } from 'firebase/database';\nimport {\n  signOut,\n  getAuth,\n  createUserWithEmailAndPassword,\n  onAuthStateChanged,\n  signInWithEmailAndPassword\n} from \"firebase/auth\";\nimport { Notify } from \"notiflix\";\n\nconst btnRegistration = document.querySelector('#registration-modal-open')\n\nconst auth = getAuth(FirebaseApp)\n\nonAuthStateChanged(auth, (user) => {\n  if (user) {\n    const uid = user.uid;\n    btnRegistration.addEventListener('click', logOut)\n    const signUp = document.querySelector('.button--signin')\n    btnRegistration.removeAttribute(\"data-registaration-open\");\n    btnRegistration.textContent = 'sign out'; // Зміна надпису на кнопці реєстрації\n    btnRegistration.classList.add('header-nav__title--active') // додавання класу на кнопку реєстрації\n    // btnRegistration.textContent = 'sign in'; // Зміна надпису на кнопці реєстрації\n    // btnRegistration.classList.remove('header-nav__title--active') // додавання класу на кнопку реєстрації\n  } else {\n    console.log('nope uid')\n  }\n});\n\n\nconst fromSubmit = document.querySelector('.registration-submit');\nfromSubmit.addEventListener('submit', signUp);\n\nfunction signUp(e) {\n  e.preventDefault();\n  const email = document.querySelector('#email').value.toString();\n  const password = document.querySelector('#password').value.toString();\n  try {\n    createUserWithEmailAndPassword(auth, email, password)\n      .then((userCredential) => {\n        const user = userCredential.user;\n        console.log(\"Signed up successfully:\", user);\n        window.location.href = '#'\n        e.target.reset();\n      })\n  }\n\n  catch (error) {\n    const errorCode = error.code;\n    console.log('nopenopenope')\n    if (!path) {\n      Notify.failure('Oh you alredy create account. Sign in')\n    }\n    // ..\n  };\n}\n\nconst singModal = document.querySelector('#SignIn-modal');\nsingModal.addEventListener('submit', logIn)\n\nfunction logIn(e) {\n  e.preventDefault();\n  const email = document.querySelector('#emailSingIn').value.toString();\n  const password = document.querySelector('#passwordSingIn').value.toString();\n\n  signInWithEmailAndPassword(auth, email, password)\n    .then((userCredential) => {\n      const user = userCredential.user;\n      console.log('yeap you are here')\n      e.target.reset();\n      singModal.classList.add('is-hidden')\n    })\n    .catch((error) => {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n    });\n}\n\nfunction logOut({ target }) {\n  btnRegistration.textContent = 'sign in'; // Зміна надпису на кнопці реєстрації\n  btnRegistration.classList.remove('header-navtitle--active') // додавання класу на кнопку реєстрації\n  btnRegistration.setAttribute(\"data-registaration-open\");\n  signOut(auth)\n}\n\n"],"names":["$fSDyF","parcelRequire","$32ac4ef52a898f2b$var$btnRegistration","document","querySelector","$32ac4ef52a898f2b$var$auth","$6AR8M","getAuth","FirebaseApp","onAuthStateChanged","user","uid","addEventListener","$32ac4ef52a898f2b$var$logOut","removeAttribute","textContent","classList","add","console","log","e","preventDefault","email","value","toString","password","createUserWithEmailAndPassword","then","userCredential","window","location","href","target","reset","error","code","path","$19McP","Notify","failure","$32ac4ef52a898f2b$var$singModal","remove","setAttribute","signOut","signInWithEmailAndPassword","catch","message"],"version":3,"file":"index.59aab82d.js.map"}