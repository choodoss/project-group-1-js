{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,0BAEA,MAAMC,EAAWC,SAASC,cAAc,eAQV,IAA1BC,EAAoB,qBACpBC,EAAuB,EACvBC,EAAc,IAED,EAAjBP,EAAAQ,aAAYC,EAAAC,QAAWC,YAAa,CAAEC,SAAU,UAAWC,MACzD,EAACC,QAAEA,MAEkCC,QAA3BC,IAAIF,GACZZ,EAASe,WAAY,EAAAC,EAAAC,gBAAeL,GACpCT,EAAoB,oBACpB,KAIJ,EAAAL,EAAAQ,aAAYC,EAAAC,QAAWC,YAAa,CAAEC,SAAU,UAAWC,MAAKO,GAAOL,QAAQC,IAAIK,OAEnF,MAAMC,EAAiBnB,SAASC,cAAc,sBACCW,QAAvCC,IAAI,qBAAsBM,GACVnB,SAASC,cAAc,sBAEA,IAA3CmB,EACJD,EAAeE,iBAAiB,SAAS,WACvCC,aAAaF,GACbA,EAAYG,YAAW,WAEenB,EAAtBe,EAAeK,MAAMC,OACnCb,QAAQC,IAAI,kBAAmBT,EAAaA,EAAYsB,QAC7B,IAAvBtB,EAAYsB,QACdd,QAAQC,IAAI,yCAGkB,EAAhChB,EAAAQ,aAAYC,EAAAC,QAAWoB,YAAa,CAAEC,MAAOxB,IAAeM,MAC1D,EAACC,QAAEA,MAEkCC,QAA3BC,IAAIF,GACW,IAAnBA,EAAQe,QAIZ3B,EAASe,WAAY,EAAAC,EAAAC,gBAAeL,GACpCT,EAAoB,gCAJlBU,QAAQC,IAAI,yCAKd,IAIJD,QAAQC,IAAI,gD,GACX,I,IAKqD,MAApDgB,EAA0B7B,SAASC,cAAc,iBACpBW,QAA3BC,IAAI,8BAA+BgB,GAE3C1B,EAAuB2B,OAAOD,EAAwBE,aACtDnB,QAAQC,IAAIV,GAEZ0B,EAAwBR,iBAAiB,SAAS,SAAUW,GAE1D,OAAQ9B,GACN,IAAK,sBACH,EAAAL,EAAAQ,aAAYC,EAAAC,QAAWC,YAAa,CAClCC,SAAU,QACVwB,KAAM9B,IACLO,MAAK,EAACC,QAAEA,MAE0BC,QAA3BC,IAAIF,GAEZZ,EAASe,WAAY,EAAAC,EAAAC,gBAAeL,EACpC,IAEF,MACF,IAAK,gCACH,EAAAd,EAAAQ,aAAYC,EAAAC,QAAWoB,YAAa,CAClCC,MAAOxB,EACP6B,KAAM9B,IACLO,MAAK,EAACC,QAAEA,MAE0BC,QAA3BC,IAAIF,GACZZ,EAASe,WAAY,EAAAC,EAAAC,gBAAeL,EACpC,IAEF,MAEF,QACEC,QAAQC,IAAI,0B","sources":["src/js/startFetch.js"],"sourcesContent":["import { getDataFilm } from './getDataFilm';\nimport { filmCardMacker } from './film-card';\nconst filmList = document.querySelector('.films-list'); // галерея карток з фільмами\nimport ApiRequest from './ApiRequest';\n\n\n// currentCollection:\n// Назва колекції за ключовим словом - currentSearchMovieCollection\n// або\n// Назва колекції популярних фільмів - topFilmsCollection\nlet currentCollection = 'topFilmsCollection'; // назва колекції по дефолту\nlet activePageCollection = 1; // номер активної сторінки по дефолту\nlet querySearch = ''; // параметр для пошуку\n\ngetDataFilm(ApiRequest.popularFilm, { language: 'en-US' }).then(\n  ({ results }) => {\n    // запит по трендам + запит на вставку карток у films-list\n    console.log(results);\n    filmList.innerHTML = filmCardMacker(results);\n    currentCollection = 'topFilmsCollection';\n    return;\n  }\n);\n\ngetDataFilm(ApiRequest.popularFilm, { language: 'en-US' }).then(arr => console.log(res));\n\nconst inputSearchEll = document.querySelector('.header-nav__input'); // посилання на інпут для вводу ключового слова для пошуку\nconsole.log('inputSearchEll----', inputSearchEll);\nconst messageErrorEll = document.querySelector('.header-error-text'); // посилання абзац з повідомленням щодо невдалого пошуку\n\nlet timeoutId;\ninputSearchEll.addEventListener('input', function () {\n  clearTimeout(timeoutId);\n  timeoutId = setTimeout(function () {\n    // викликати функцію, яку потрібно запустити\n    querySearch = inputSearchEll.value.trim();\n    console.log('querySearch ---', querySearch, querySearch.length);\n    if (querySearch.length === 0) {\n      console.log('введіть текст для пошуку кінофільмів');\n    }\n\n    getDataFilm(ApiRequest.searchMovie, { query: querySearch }).then(\n      ({ results }) => {\n        // запит по трендам + запит на вставку карток у films-list\n        console.log(results);\n        if (results.length === 0) {\n          console.log('кінофільмів згідно вашого запиту немає');\n          return;\n        }\n        filmList.innerHTML = filmCardMacker(results);\n        currentCollection = 'currentSearchMovieCollection';\n        return;\n      }\n    );\n\n    console.log('Текст був введений більше ніж 2 секунди тому.');\n  }, 2000);\n});\n\n//При переході на кожну сторінку малювати відповідну частину фільмів\n\nconst activePagePaginationEll = document.querySelector('.page--active'); // посилання на активну сторінку пагінації\nconsole.log('activePagePaginationEll----', activePagePaginationEll);\n\nactivePageCollection = Number(activePagePaginationEll.textContent);\nconsole.log(activePageCollection);\n\nactivePagePaginationEll.addEventListener('click', function (e) {\n  // e.preventDefault();\n  switch (currentCollection) {\n    case 'topFilmsCollection':\n      getDataFilm(ApiRequest.popularFilm, {\n        language: 'en-US',\n        page: activePageCollection,\n      }).then(({ results }) => {\n        // запит по трендам + запит на вставку карток у films-list\n        console.log(results);\n\n        filmList.innerHTML = filmCardMacker(results);\n        return;\n      });\n      break;\n    case 'currentSearchMovieCollection':\n      getDataFilm(ApiRequest.searchMovie, {\n        query: querySearch,\n        page: activePageCollection,\n      }).then(({ results }) => {\n        // запит по трендам + запит на вставку карток у films-list\n        console.log(results);\n        filmList.innerHTML = filmCardMacker(results);\n        return;\n      });\n      break;\n\n    default:\n      console.log('Упс, щось пішло не так');\n      break;\n  }\n});\n"],"names":["$gxwgI","parcelRequire","$1e78404af9f34895$var$filmList","document","querySelector","$1e78404af9f34895$var$currentCollection","$1e78404af9f34895$var$activePageCollection","$1e78404af9f34895$var$querySearch","getDataFilm","$ggI8S","default","popularFilm","language","then","results","console","log","innerHTML","$3nfqI","filmCardMacker","arr","res","$1e78404af9f34895$var$inputSearchEll","$1e78404af9f34895$var$timeoutId","addEventListener","clearTimeout","setTimeout","value","trim","length","searchMovie","query","$1e78404af9f34895$var$activePagePaginationEll","Number","textContent","e","page"],"version":3,"file":"index.e7a2b6d7.js.map"}