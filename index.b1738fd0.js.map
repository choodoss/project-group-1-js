{"mappings":"yqBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAU,mCACVC,EAAM,gCAENC,EAAU,IAAI,EAAAJ,EAAAK,SAGb,SAASC,EAAYC,EAAOC,EAAc,IAC7CJ,EAAQK,SACQ,MAAVC,EAAa,IAAIC,gBAAgB,CACnCC,QAASV,EACTW,SAAU,WACPL,IAGP,OAAOM,MAAM,GAAGX,IAAMI,KAASG,KAC1BK,MAAKC,IACF,IAAKA,EAAIC,GACL,MAAM,IAAIC,MAAMC,SAASC,QAGd,OADfhB,EAAQiB,UACDL,EAAIM,MAAM,G,CAkCtBC,eAAeC,EAAcC,GAChC,MAAMC,EAAWD,EAAIE,KAAIC,GACvBd,MAAM,sCAAsCc,8CACzCb,MAAKI,GAAYA,EAASG,WAK/B,aAFqBO,QAAQC,IAAIJ,E,sEC5DtB,MAAAK,EACXC,cACEC,KAAKC,QAAUC,SAASC,cAAc,qBACtCH,KAAKI,QAAUF,SAASC,cAAc,W,CAGxCb,qBACQ,IAAIM,SAAQS,GAAWC,WAAWD,EAAS,KACjDL,KAAKC,QAAQM,UAAUC,OAAO,aAC9BR,KAAKI,QAAQG,UAAUE,IAAI,iB,CAG7BnB,sBACQ,IAAIM,SAAQS,GAAWC,WAAWD,EAAS,KACjDL,KAAKC,QAAQM,UAAUE,IAAI,aAC3BT,KAAKI,QAAQG,UAAUC,OAAO,iB","sources":["src/js/getDataFilm.js","src/js/spinner.js"],"sourcesContent":["import Spinner from \"./spinner\";\n\nconst API_KEY = '936b81ad25b58d3805a3200306ab9278';\nconst URL = \"https://api.themoviedb.org/3/\";\n\nconst spinner = new Spinner();\n\n\nexport function getDataFilm(param, searchParam = {}) { //функція запиту карток по параметру посилання і параметру\n    spinner.enable(); //Увімкнути спіннер\n    const parameters = new URLSearchParams({\n        api_key: API_KEY,\n        language: 'en-US',\n        ...searchParam\n    });\n\n    return fetch(`${URL}${param}?${parameters}`)\n        .then(res => {\n            if (!res.ok) {\n                throw new Error(response.status);\n            }\n            spinner.disable(); //Вимкнути спіннер\n            return res.json()\n        })\n};\n\nexport async function getDataFilmTrailer(param, searchParam = {}) { //функція запиту карток по параметру посилання і параметру\n    spinner.enable(); //Увімкнути спіннер\n    const parameters = new URLSearchParams({\n        api_key: API_KEY,\n        language: 'en-US',\n        ...searchParam\n    });\n\n    return fetch(`${URL}${param}?${parameters}`)\n        .then(res => {\n            if (!res.ok) {\n                throw new Error(response.status);\n            }\n            spinner.disable(); //Вимкнути спіннер\n            return res.json()\n        })\n};\n\nexport async function fetchTrailer(id) {\n    spinner.enable(); //Увімкнути спіннер\n    const trailerUrl = `${BASE_URL}movie/${id}/videos?api_key=${API_KEY}`;\n    const response = await fetch(trailerUrl);\n    if (!response.ok) {\n        throw new Error(response.statusText);\n    }\n    spinner.disable(); //Вимкнути спіннер\n    return await response.json();\n}\n\n\nexport async function getMoviesById(ids) {\n    const promises = ids.map(id =>\n      fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}`)\n        .then(response => response.json())\n    );\n    \n    const movies = await Promise.all(promises);\n    \n    return movies;\n  }","\n\nexport default class Spinner {\n    constructor() {\n      this.overlay = document.querySelector('.spinner__overlay');\n      this.spinner = document.querySelector('.spinner');\n    }\n  \n    async enable() {\n      await new Promise(resolve => setTimeout(resolve, 0)); \n      this.overlay.classList.remove('is-hidden');\n      this.spinner.classList.add('spinner--start');\n    }\n  \n    async disable() {\n      await new Promise(resolve => setTimeout(resolve, 0)); \n      this.overlay.classList.add('is-hidden');\n      this.spinner.classList.remove('spinner--start');\n    }\n  }\n  "],"names":["$javIh","parcelRequire","$c0a8c2493215f761$var$API_KEY","$c0a8c2493215f761$var$URL","$c0a8c2493215f761$var$spinner","default","$c0a8c2493215f761$export$d1e0b74d9a946659","param","searchParam","enable","parameters","URLSearchParams","api_key","language","fetch","then","res","ok","Error","response","status","disable","json","async","$c0a8c2493215f761$export$e72885cdb753c3f9","ids","promises","map","id","Promise","all","$df478d185eada8e6$export$2e2bcd8739ae039","constructor","this","overlay","document","querySelector","spinner","resolve","setTimeout","classList","remove","add"],"version":3,"file":"index.b1738fd0.js.map"}