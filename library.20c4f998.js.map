{"mappings":"spBAAA,IAAAA,EAAAC,EAAA,S,aAGA,IAAIC,EAAW,GASR,SAASC,EAAeC,GAE3B,OAAOA,EAAIC,KAAIC,IAEX,MAAMC,EAASD,EAAKE,UAC8BH,KAAzCI,IACD,MAAMC,EAAWR,EAASS,MAAKC,GAAOA,EAAIH,KAAOA,IACjD,OAAOC,EAAWA,EAASG,KAAO,EAAE,IAG5C,IAAIC,EAEAP,EAAOQ,OAAS,GAChBD,EAAcP,EAAOS,MAAM,EAAG,GAAGC,KAAK,MAAQ,UAC1CH,EAAYC,OAAS,KACrBD,EAAcP,EAAOS,MAAM,EAAG,GAAGC,KAAK,MAAQ,YAGlDH,EAAcP,EAAOQ,OAAS,EAAI,GAAGR,EAAOU,KAAK,SAAW,GAGhE,IAAIC,EAAcZ,EAAKa,YACnBC,EAAS,kCAAkCF,IAO/C,OALIE,EADgB,OAAhBF,EACS,8BAEA,kCAAkCA,IAGxC,wEACoCZ,EAAKG,4FACIW,WAAgBd,EAAKe,MAAQf,EAAKe,MAAQf,EAAKO,+HAGnEP,EAAKe,MAAQf,EAAKe,MAAQf,EAAKO,0DACxBC,OAAiBR,EAAKgB,aAAehB,EAAKgB,aAAaN,MAAM,EAAG,GAAK,gDAG9G,IAEAC,KAAK,G,EA/CgB,EAA3BM,EAAAC,UAASxB,EAAAyB,QAAWC,OAAOC,MAAKC,IAC5BC,QAAQC,IAAIF,GACZ1B,EAAW,IAAI0B,EAAI,GAAGrB,UAAWqB,EAAI,GAAGrB,OAAO,G,wFCFnDwB,EAAe,C,YALK,CAAC,iB,YACD,e,aACC,S,MACP,CAAC,gBAAiB,oB","sources":["src/js/film-card.js","src/js/ApiRequest.js"],"sourcesContent":["import ApiRequest from './ApiRequest';\nimport { getGenre } from './getDataFilm';\n\nlet genreArr = [];//масиву даних genre із id і значення жанру\n\ngetGenre(ApiRequest.genre).then(res => {//функція запиту genre і створення эдиного масиву даних genre із id і значення жанру\n    console.log(res)\n    genreArr = [...res[0].genres, ...res[1].genres]\n}\n)\n//getGenre(params) має обовязково запускатись при пешому відкритті сайту, адже без готовох бази жанрів, неможливо буде відобразити коректно розмітку!!!\n\nexport function filmCardMacker(arr) { //функція створення картки фільму\n\n    return arr.map(item => {\n\n        const genres = item.genre_ids // пошук співпадіння ід у картці фільму із масивом даних genre\n            .map(id => {\n                const genreObj = genreArr.find(obj => obj.id === id);\n                return genreObj ? genreObj.name : '';\n            });\n\n        let genreString;\n\n        if (genres.length > 2) { //формування довжини жанру фільму\n            genreString = genres.slice(0, 2).join(', ') + ', Other';\n            if (genreString.length > 30) {\n                genreString = genres.slice(0, 1).join(', ') + ', Other';\n            }\n        } else {\n            genreString = genres.length > 0 ? `${genres.join(', ')} ` : '';\n        }\n\n        let serchPoster = item.poster_path;\n        let poster = `https://image.tmdb.org/t/p/w500${serchPoster}`\n        if (serchPoster === null) {\n            poster = `./src/images/img/no-img.jpg`\n        } else {\n            poster = `https://image.tmdb.org/t/p/w500${serchPoster}`\n        }\n        //розмітка картки фільму\n        return `<li class=\"film\"> \n    <a class=\"film-link\" data-modal-open name-id=${item.id} href=\"javascript:void(0)\">\n        <img loading=\"lazy\" width=\"280\" height=\"398\" src=\"${poster}\" alt=\"${item.title ? item.title : item.name}film cover\"\n            class=\"film__img\">\n            <div class=\"film-body\">\n                <p class=\"film__name\">${item.title ? item.title : item.name}</p>\n                <p class=\"film__description\">${genreString} | ${item.release_date ? item.release_date.slice(0, 4) : 'TBD'}</p>\n            </div>\n    </a>\n</li>`\n    }\n    ).join('')\n}","const popularFilm = ['movie/popular']; // тренди для початкового запиту\nconst searchMovie = 'search/movie';// тпошук по назві фільму\nconst movieDetails = 'movie/' //'movie/${ID}' // детальна інформація по фільму із ID Куди записувати ID фільму?\nconst genre = ['genre/tv/list', 'genre/movie/list']; // Для створення масиву жанрів із ID\n\nexport default {\n    popularFilm,\n    searchMovie,\n    movieDetails,\n    genre\n}"],"names":["$iRxVD","parcelRequire","$51ee35a5f0c6e6fb$var$genreArr","$51ee35a5f0c6e6fb$export$7f8dd55dded961b3","arr","map","item","genres","genre_ids","id","genreObj","find","obj","name","genreString","length","slice","join","serchPoster","poster_path","poster","title","release_date","$kjdRC","getGenre","default","genre","then","res","console","log","$dbb77eb8bfb125e7$export$2e2bcd8739ae039"],"version":3,"file":"library.20c4f998.js.map"}